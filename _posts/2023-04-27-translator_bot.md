---
layout: post
title: "translator bot"
date:   2023-04-28
tags: [Tech, English]
comments: true
author: GingerNg
---

Recently, I have been using [Shanbay](https://www.shanbay.com/) to learn English. Shanbay is a Chinese company that provides English learning services. It has a very good user experience and is very suitable for Chinese people to learn English.
Maybe, Shanbay is not the best tool to learn English, but it is quite suitable for me to learn English on my commute.
However, Shanbay focus on help people to extend their vocabulary, but not help people to use English.
I found one gangster has developed a [Shanbay bot](https://twitter.com/yihong0618/status/1649433890032082944) which can send word list to users every day via telegram by using javescript. Moreover, it can generate articles based on the word list for review by using chatgpt. Furthermore, voice of article can also be generated by using TTS. I think it is a good idea to use Shanbay bot to practice English reading and listening. Inspired by it, I decided to develop a translator bot using python for myself.

My first step is to reimplement the features of Shanbay bot which I have completed. I call [js code](https://github.com/yihong0618/shanbay_remember/blob/main/shanbay.js) by using the **execjs** package to decrypt the data from Shanbay website.

The source code is available on [Github](https://github.com/GingerNg/LivatGPT/blob/master/LivatTG/shanbay.py)

Secondly, I implement the feature of tranlation between English and Chinese(support more language in the furture). I use [vitalets's repo](https://github.com/vitalets/google-translate-api), which is a free and unlimited API for Google Translate. In order for python to call, I use the express to make it as a service.

![](https://s2.loli.net/2023/04/28/DKerbyatYhV6BWd.png)

Thirdly, the bot can send voice of word to user. I use the [edge-tts](https://github.com/rany2/edge-tts) to implement it. The bot will save the English word to database, once user send the "/text2voice" slash command(as shown below), the bot will query the lastest word from database and generate the voice for user.
![](https://s2.loli.net/2023/04/28/SEQLtawRUs6jIkH.png)


